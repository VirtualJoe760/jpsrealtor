(1) Step-by-Step Guide to Getting Started with PayloadCMS [& Adding It to an Existing Next.js Project] - YouTube

Transcripts:
(00:00) what's up everyone in this video we're going to talk about how to get started with payload CMS but before we get started don't forget to subscribe and hit the bell for notifications now let's dive in to get started with payload CMS you can go to their getting started guide in their documentation on their website so you'll go over here to developers documentation and then you can go down to installation and so you'll need a couple of things before you get started with this there's some required software in order
(00:33) to install payload on your machine you'll need any JavaScript package manager which can be yarn npm or pnpm pnpm is what I use but it is also preferred by payload CMS you need nodejs version 20.9 or higher and any compatible database so mongod DB postgress or sq light and so you can either download mongodb or postgress and have it installed on your computer or you can use a hosted version of either of these databases like mongodb Atlas or verell and connect to them that way so to get started with a new project you're going
(01:13) to open your terminal so I'm going to pull that up right now and you're going to go to the location that you want to start a new project so I don't want to do it at my rote so I'm going to go to the desktop and then I have a JavaScript folder so I'm going to go there and we changed to that directory then you're going to enter the command npx create payload app when you do this it's going to ask you a couple of questions first it's going to ask you if it's okay to proceed with the download of create payload app I accidentally hit enter so
(01:48) it just went straight through and now it's asking me to name my project so I'm just going to name this payload app and then I'm going to use the website template and I'm going to choose a mongod DB and it'll ask me if I want to name my default mongod DB connection string that's fine with me and then it's going to install all the dependencies that it needs using pnpm in order to get this up and running after a minute or so you'll see that this succeeded so mine says payload project successfully created and here
(02:24) are some next steps so it tells me how to launch the project so I could do CD payload app so I'm just going to copy that and change my directory and I could do this in an IDE but I'm just trying to get this up and running and then you can use pnpm Dev and it should spin up a local post and so that's how you get started with payload CMS with a new project now to get started with an existing project is a bit more involved but it's still relatively easy and to show you how to do this I'm going to create a new nextjs app using Create
(03:00) next app and so I'm going to navigate back up to my JavaScript folder and when I do that I'm going to type in MPX create next app and hit enter it'll prompt you through a couple of questions again I'm going to hit yes it's okay to proceed and then it'll ask me what my app name is I'm just going to do nextjs app and then it'll ask you a couple of questions I want to use typescript I don't want to use es slint or Tailwind I want to use the source directory app router no turbo pack no import Alias change and then it'll take
(03:36) a couple of seconds to install and initialize the project and it is done now so if I go to the nextjs app folder and then do pmpm Dev it should load up on Local Host 3000 and so there it is now and so that's just the next JS part of this process you're going to still need to install relevant packages including the payload CMS package and a database adapter and after that you can copy the default payload files into your next JS app folder and I'll show you how to do that so in the terminal I'm going to end this session and I'm going to come down
(04:21) here in the documentation and copy all of these required relevant packages so I go to the terminal I'm just going to paste that in and hit enter after a few seconds it finishes and then I can keep moving on and so here we need to install a database adapter I'm just going to choose the mongodb adapter but again if you want to use the postgress one you are able to do that as well now that that's done you're going to copy the payload files into your nextjs app folder so to do that you can either go in and manually copy the files
(04:59) over but since that's extremely error prone I'm going to download the files from payloads get repository and copy them from there in order to do this you need to go to payloads git repository on GitHub so I have that pulled up here it is the payload CMS G repository here you will need to log in I'm already logged in so I don't need to worry about that but if you don't have a GitHub account be sure to sign up for one before moving forward once we're at the GitHub repository you need to find their main branch which is this payload right
(05:33) here when you click on it you'll see a green code button that you can click on and click download zip so I clicked on the green button and I'm going to come down here to click on download zip it's going to prompt me to find a place to download this and I'll just do it in this folder and when I download it it should only take a couple seconds I can then open the folder and bring it over here and now I can see all of the git repository information here you'll then need to locate the files you're looking for by going to payload
(06:05) main templates blank Source app payload and so this is going to have everything that you need included in it so I'm just going to copy this and bring it over here to nextjs app and replace these files with a new payload file group here and so you'll want to make sure that your import map is here and that you have all of the files just as you saw them in the G repository in order for the front end to work in tandem with the payload folder you're going to need to take everything that was in the app folder and put it
(06:47) into its own page group I'm just going to select all of these and on Mac you can do command control n to create a new folder with the items and I'm just going to call this front end with parenthesis and so now that that's done we have a front end folder and then we have a payload folder so this again was brought in from the get repository but the front end comes from the nextjs project that I just created after that we're going to need to open the nextjs config file so I'm going to come here to our next config typescript
(07:32) I'm going to open this with my IDE of choice and then from there if we go back to the documentation we can see that we need to add the payload plugin to our nextjs config so to add the payload plugin we're going to use with payload in our nextjs next config.js and so now that I have the next config open in Visual Studio code I'm just going to add with payload to this folder do import with payload which is the payload plugin from payload CMS next with payload and then we can just wrap this export default next config
(08:17) with payload and then we can save that now in order for this to work we're going to need to go to our package.json file so I'm going to open up our finder window again and go to our package.json and open it again with Visual Studio code and then we need to add type module to our package.
(08:38) json file and so when we do that there is this caveat here you will need to update any requires and exports in your next. config file they'll need to be converted to Import and Export if they were not already set up that way so lastly you'll need to create a payload config file to add to your typescript config so if if you haven't already we're going to add a new file and name it payload doc config.
(09:16) sys here and so I'm just going to paste what payload CMS provides here for the default bare minimum and then you'll save this head over to your TS config go down to paths and you're going to add at payload config and then have this as a path and so this is going to point you to this payload doc config right here so I'm going to save that and there is one other step that you need to do and that is to create a payload secret so I'm just going to add a new file it's going to be a EnV file and then I'm just going to take the name that they have here
(09:56) which is payload Secret and I'm just going to type in a bunch of gobbley here so after you add your secret you'll need to do one more thing which is to add a mongod DB string so I'm going to do that but I'm not going to do it here because I'm going to use one of my hosted mongod DB strings and after you get your DB or your postrest DB input as a environment variable you can run p& PM Dev once it initializes you can go to local host 3000 to see the front end and then if you go to admin you should see the back end as well and
(10:36) so since I'm using a hosted mongod DB link here that is currently in use there's already a user here but if you didn't have a user it would ask you to initialize your first user that's it for getting started with payload CMS if you have any questions please drop them in the chat while creating a new payload project is rather simple it can be more involved and tricky to add payload to an existing project it may require some troubleshooting and some research once it's all set up though it's simple to get started which we'll be talking about
(11:12) later on be sure to subscribe to this Channel and get notifications to make sure you're updated on all the content I'll be putting out about payload CMS and how well it ties into nextjs and Beyond I'll see you next time
